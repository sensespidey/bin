#!/bin/bash

# getdrush is designed to do one thing, and do it well: get and install drush on a (debian linux) server.
# it turns out, this is getting easier, and easier, and the official way now
# involves composer: https://getcomposer.org/doc/00-intro.md#globally

# Step 1: get composer
curl -sS https://getcomposer.org/installer | sudo php -- --install-dir=/usr/local/bin

# Step 2: install drush globally for all users
# (see http://docs.drush.org/en/master/install/)
# on my systems, /usr/local/src is group-owned by my adm/dev group, and writable by me
git clone https://github.com/drush-ops/drush.git /usr/local/src/drush
cd /usr/local/src/drush
git checkout 6.x
sudo ln -s /usr/local/src/drush/drush /usr/bin/drush
composer.phar install

# Step 3: Profit! Print the version to confirm 
drush --version 
